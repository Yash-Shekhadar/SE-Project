{"ast":null,"code":"var _jsxFileName = \"/Users/hrishikeshmahajan/UFL/SE/SE-Project/new-frontend/src/views/tenantRequests/requestService/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { lazy, useState, useEffect, useRef } from 'react';\nimport { CButton, CCard, CCardTitle, CCardBody, CCol, CFormFloating, CFormInput, CFormLabel, CFormSelect, CRow, CForm, CToast, CToaster, CToastBody, CToastClose } from '@coreui/react';\nimport form from './form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst requestService = props => {\n  _s();\n\n  const [isLoading, setLoading] = useState(true);\n\n  function padTo2Digits(num) {\n    return num.toString().padStart(2, '0');\n  }\n\n  function formatDate(date) {\n    return [padTo2Digits(date.getDate()), padTo2Digits(date.getMonth() + 1), date.getFullYear()].join('-');\n  } //   const [ldata, setLData] = useState();\n\n\n  const [leaseInfo, setLi] = useState(\"\");\n\n  const getData = email => {\n    console.log(email);\n    const response = fetch('http://localhost:8080/api/getUnit', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        email\n      })\n    }).then(function (response) {\n      console.log(response);\n      return response.json();\n    }).then(function (myJSON) {\n      setLi(JSON.stringify(myJSON));\n      console.log(leaseInfo);\n      setLoading(false);\n    });\n  };\n\n  const [email, setEmail] = useState('');\n  useEffect(() => {\n    (async () => {\n      const response = await fetch('http://localhost:8080/api/user', {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      });\n      const content = await response.json();\n      setEmail(content.email);\n      await getData(content.email);\n    })();\n  });\n  const [fName, setFName] = useState('');\n  const [issueDesc, setIssueDesc] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    var x = new Date();\n    var created_on = formatDate(x);\n    const info = {\n      email,\n      fName,\n      issueDesc,\n      created_on\n    };\n    fetch('http://localhost:8080/api/create-maintenance-request', {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(info)\n    }).then(() => {\n      console.log(info);\n    });\n  };\n\n  const [toast, addToast] = useState(0);\n  const toaster = useRef();\n\n  const confirmationToast = /*#__PURE__*/_jsxDEV(CToast, {\n    color: \"success\",\n    className: \"text-white align-items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(CToastBody, {\n        children: \"Maintenance request generated successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CToastClose, {\n        className: \"me-2 m-auto\",\n        white: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Request Service\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CCard, {\n      children: /*#__PURE__*/_jsxDEV(CCardBody, {\n        children: [leaseInfo, /*#__PURE__*/_jsxDEV(CCardTitle, {\n          children: \"Fill maintenance request details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this), leaseInfo && /*#__PURE__*/_jsxDEV(\"form\", {\n          ldata: leaseInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n\n_s(requestService, \"f7xxunEO10WfsK3S4z2kHqpwxV4=\");\n\nexport default requestService;","map":{"version":3,"sources":["/Users/hrishikeshmahajan/UFL/SE/SE-Project/new-frontend/src/views/tenantRequests/requestService/index.js"],"names":["React","lazy","useState","useEffect","useRef","CButton","CCard","CCardTitle","CCardBody","CCol","CFormFloating","CFormInput","CFormLabel","CFormSelect","CRow","CForm","CToast","CToaster","CToastBody","CToastClose","form","requestService","props","isLoading","setLoading","padTo2Digits","num","toString","padStart","formatDate","date","getDate","getMonth","getFullYear","join","leaseInfo","setLi","getData","email","console","log","response","fetch","headers","method","body","JSON","stringify","then","json","myJSON","setEmail","credentials","content","fName","setFName","issueDesc","setIssueDesc","handleSubmit","e","preventDefault","x","Date","created_on","info","toast","addToast","toaster","confirmationToast"],"mappings":"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","sourcesContent":["import React, { lazy, useState, useEffect, useRef} from 'react'\n\nimport {\n    CButton,\n    CCard,\n    CCardTitle,\n    CCardBody,\n    CCol,\n    CFormFloating,\n    CFormInput,\n    CFormLabel,\n    CFormSelect,\n    CRow,\n    CForm,\n    CToast,\n    CToaster,\n    CToastBody,\n    CToastClose,\n\n  } from '@coreui/react'\n\n  import form  from './form';\n\n\nconst requestService = (props) => {\n\n    const [isLoading, setLoading] = useState(true);\n  function padTo2Digits(num) {\n    return num.toString().padStart(2, '0');\n  }\n  \n  function formatDate(date) {\n    return [\n      padTo2Digits(date.getDate()),\n      padTo2Digits(date.getMonth() + 1),\n      date.getFullYear(),\n    ].join('-');\n  }\n\n//   const [ldata, setLData] = useState();\n  const [leaseInfo, setLi] = useState(\"\");\n  const getData = (email) =>\n  {\n      console.log(email)\n      const response = fetch('http://localhost:8080/api/getUnit', {\n        headers: {'Content-Type': 'application/json'},\n          method:'POST',\n          body: JSON.stringify({email})\n      }).then(function (response) {\n          console.log(response);\n          return response.json();\n      }).then(function(myJSON){\n          setLi(JSON.stringify(myJSON));\n          console.log(leaseInfo);\n          setLoading(false);\n      })\n  }\n\n  const [email, setEmail] = useState('');\n  useEffect(() => {\n      (\n          async () => {\n              const response = await fetch('http://localhost:8080/api/user', {\n                  headers: {'Content-Type':'application/json'},\n                  credentials:'include'\n              });\n              const content = await response.json();\n              setEmail(content.email);\n              await getData(content.email);\n          }\n      )();\n  });\n\n  const[fName, setFName] = useState('');\n  const[issueDesc, setIssueDesc] = useState('');\n\n  const handleSubmit = (e) => {\n      e.preventDefault();\n      var x = new Date();\n      var created_on = formatDate(x);\n      const info = {email, fName, issueDesc, created_on};\n\n      fetch('http://localhost:8080/api/create-maintenance-request', {\n        headers: {'Content-Type': 'application/json'},\n          method:'POST',\n          body: JSON.stringify(info)\n      }).then(() => {\n          console.log(info);\n      })\n  }\n\n    const [toast, addToast] = useState(0)\n    const toaster = useRef()\n    const confirmationToast = (\n        <CToast color=\"success\" className=\"text-white align-items-center\">\n            <div className=\"d-flex\">\n                <CToastBody>Maintenance request generated successfully!</CToastBody>\n                <CToastClose className=\"me-2 m-auto\" white />\n            </div>\n        </CToast>\n    )\n\n    if (isLoading) {\n        return <div className=\"App\">Loading...</div>;\n      }\n  return (\n    <div>\n        <h2>Request Service</h2>\n        <CCard >\n            <CCardBody>\n                {leaseInfo}\n                <CCardTitle>Fill maintenance request details</CCardTitle>\n                    {leaseInfo && <form ldata={leaseInfo}/>}\n            </CCardBody>\n        </CCard>\n    </div>\n  )\n}\n\nexport default requestService;\n"]},"metadata":{},"sourceType":"module"}