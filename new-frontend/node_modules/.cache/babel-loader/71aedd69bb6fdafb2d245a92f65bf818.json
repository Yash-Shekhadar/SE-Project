{"ast":null,"code":"var _jsxFileName = \"D:\\\\University of Florida\\\\Spring 22\\\\Software Engineering\\\\project\\\\SE-Project\\\\new-frontend\\\\src\\\\views\\\\tenantRequests\\\\viewTenantRequests\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { lazy, useState, useEffect, useRef } from 'react';\nimport { CButton, CCard, CCardTitle, CCardBody, CCol, CFormFloating, CFormInput, CFormLabel, CFormSelect, CRow, CForm, CToast, CToaster, CToastBody, CToastClose } from '@coreui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst viewTenantRequests = props => {\n  _s();\n\n  const [data, setData] = useState(null); // let facilitiesMap = {};\n\n  const [email, setEmail] = useState('');\n\n  const getEmail = () => {\n    (async () => {\n      const response = await fetch('http://localhost:8080/api/user', {\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      });\n      const content = await response.json();\n      setEmail(content.email);\n    })();\n  };\n\n  const getData = email => {\n    fetch(\"http://localhost:8080/api/tenant-maintenance-requests\", {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        email\n      })\n    }).then(function (response) {\n      console.log(response);\n      return response.json();\n    }).then(function (myJSON) {\n      console.log(myJSON);\n      setData(myJSON); // generateMap(data);\n    });\n  };\n\n  useEffect(() => {\n    getEmail();\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"View My Requests\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(viewTenantRequests, \"zSu3HqSfGabUFTWRcaZW/U0i9i8=\");\n\nexport default viewTenantRequests;","map":{"version":3,"sources":["D:/University of Florida/Spring 22/Software Engineering/project/SE-Project/new-frontend/src/views/tenantRequests/viewTenantRequests/index.js"],"names":["React","lazy","useState","useEffect","useRef","CButton","CCard","CCardTitle","CCardBody","CCol","CFormFloating","CFormInput","CFormLabel","CFormSelect","CRow","CForm","CToast","CToaster","CToastBody","CToastClose","viewTenantRequests","props","data","setData","email","setEmail","getEmail","response","fetch","headers","credentials","content","json","getData","method","body","JSON","stringify","then","console","log","myJSON"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,QAAtB,EAAgCC,SAAhC,EAA2CC,MAA3C,QAAwD,OAAxD;AAEA,SACIC,OADJ,EAEIC,KAFJ,EAGIC,UAHJ,EAIIC,SAJJ,EAKIC,IALJ,EAMIC,aANJ,EAOIC,UAPJ,EAQIC,UARJ,EASIC,WATJ,EAUIC,IAVJ,EAWIC,KAXJ,EAYIC,MAZJ,EAaIC,QAbJ,EAcIC,UAdJ,EAeIC,WAfJ,QAiBS,eAjBT;;;AAoBA,MAAMC,kBAAkB,GAAIC,KAAD,IAAW;AAAA;;AAIpC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC,IAAD,CAAhC,CAJoC,CAKpC;;AACA,QAAM,CAACsB,KAAD,EAAQC,QAAR,IAAoBvB,QAAQ,CAAC,EAAD,CAAlC;;AACA,QAAMwB,QAAQ,GAAG,MAAM;AACnB,KACI,YAAY;AACR,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAD,EAAmC;AAC3DC,QAAAA,OAAO,EAAE;AAAC,0BAAe;AAAhB,SADkD;AAE3DC,QAAAA,WAAW,EAAC;AAF+C,OAAnC,CAA5B;AAIA,YAAMC,OAAO,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAtB;AACAP,MAAAA,QAAQ,CAACM,OAAO,CAACP,KAAT,CAAR;AAEH,KATL;AAWH,GAZD;;AAcE,QAAMS,OAAO,GAAIT,KAAD,IAAW;AAEzBI,IAAAA,KAAK,CAAC,uDAAD,EACL;AACEC,MAAAA,OAAO,EAAE;AAAC,wBAAgB;AAAjB,OADX;AAEEK,MAAAA,MAAM,EAAC,MAFT;AAGEC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBb,QAAAA;AADmB,OAAf;AAHR,KADK,CAAL,CAQEc,IARF,CAQO,UAAUX,QAAV,EAAoB;AAEzBY,MAAAA,OAAO,CAACC,GAAR,CAAYb,QAAZ;AACA,aAAOA,QAAQ,CAACK,IAAT,EAAP;AACD,KAZD,EAYGM,IAZH,CAYQ,UAASG,MAAT,EAAgB;AACtBF,MAAAA,OAAO,CAACC,GAAR,CAAYC,MAAZ;AACAlB,MAAAA,OAAO,CAACkB,MAAD,CAAP,CAFsB,CAGtB;AACD,KAhBD;AAiBD,GAnBD;;AAoBAtC,EAAAA,SAAS,CAAC,MAAM;AACduB,IAAAA,QAAQ;AACRO,IAAAA,OAAO;AACR,GAHQ,EAGP,EAHO,CAAT;AAKF,sBACE;AAAA,2BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CApDD;;GAAMb,kB;;AAsDN,eAAeA,kBAAf","sourcesContent":["import React, { lazy, useState, useEffect, useRef} from 'react'\r\n\r\nimport {\r\n    CButton,\r\n    CCard,\r\n    CCardTitle,\r\n    CCardBody,\r\n    CCol,\r\n    CFormFloating,\r\n    CFormInput,\r\n    CFormLabel,\r\n    CFormSelect,\r\n    CRow,\r\n    CForm,\r\n    CToast,\r\n    CToaster,\r\n    CToastBody,\r\n    CToastClose,\r\n\r\n  } from '@coreui/react'\r\n\r\n\r\nconst viewTenantRequests = (props) => {\r\n\r\n\r\n\r\n  const [data, setData] = useState(null);\r\n  // let facilitiesMap = {};\r\n  const [email, setEmail] = useState('');\r\n  const getEmail = () => {\r\n      (\r\n          async () => {\r\n              const response = await fetch('http://localhost:8080/api/user', {\r\n                  headers: {'Content-Type':'application/json'},\r\n                  credentials:'include'\r\n              });\r\n              const content = await response.json();\r\n              setEmail(content.email);\r\n              \r\n          }\r\n      )();\r\n  };\r\n\r\n    const getData = (email) => {\r\n  \r\n      fetch(\"http://localhost:8080/api/tenant-maintenance-requests\", \r\n      {\r\n        headers: {'Content-Type': 'application/json'},\r\n        method:'POST',\r\n        body: JSON.stringify({\r\n          email\r\n        }),\r\n      }\r\n      ).then(function (response) {\r\n\r\n        console.log(response);\r\n        return response.json();\r\n      }).then(function(myJSON){\r\n        console.log(myJSON);\r\n        setData(myJSON);\r\n        // generateMap(data);\r\n      })\r\n    }\r\n    useEffect(() => {\r\n      getEmail()\r\n      getData()\r\n    },[])\r\n\r\n  return (\r\n    <div>\r\n        <h2>View My Requests</h2>\r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default viewTenantRequests;\r\n"]},"metadata":{},"sourceType":"module"}